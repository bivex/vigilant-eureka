#### **1. –†–µ–∂–∏–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: MEMORY_CACHE**
```php
$db->open($binFile, \IP2Proxy\Database::MEMORY_CACHE);
```
- **116MB RAM** –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞
- **–ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫** —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ RAM –≤–º–µ—Å—Ç–æ –¥–∏—Å–∫–∞
- **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ I/O –∑–∞–¥–µ—Ä–∂–µ–∫** –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ

#### **2. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Å–µ—Å—Å–∏–∏**
```php
// Check cache first (much faster for repeated requests)
if (isset($_SESSION['ip_cache'][$ipAddress])) {
    $proxyInfo = $_SESSION['ip_cache'][$ipAddress];
}
```
- **–ö–µ—à –≤ —Å–µ—Å—Å–∏–∏** —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** –æ–¥–Ω–æ–≥–æ IP –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- **–≠–∫–æ–Ω–æ–º–∏—è CPU** –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –æ—Ç –æ–¥–Ω–æ–≥–æ IP

#### **3. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –¥–ª—è –±–æ—Ç–æ–≤**
```php
// Send minimal 403 response and exit immediately to save CPU
http_response_code(403);
header('Content-Type: text/plain');
header('Connection: close');
echo 'Forbidden';
exit();
```
- **10 –±–∞–π—Ç** –≤–º–µ—Å—Ç–æ 2KB HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ** —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤** —Å–µ—Ä–≤–µ—Ä–∞

### **üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**

| –†–µ–∂–∏–º | –ó–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ | –£–ª—É—á—à–µ–Ω–∏–µ |
|-------|-------------|-----------|
| **–ë–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π** | ~7,000 | 1x |
| **–° –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º** | ~20,000 | **2.9x –±—ã—Å—Ç—Ä–µ–µ** |
| **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** | ‚àû | **–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ** |

### **üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:**
- **–ë–µ–∑ –∫–µ—à–∞:** ~1MB –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å
- **–° –∫–µ—à–µ–º –±–∞–∑—ã:** ~116MB –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å  
- **–ö–µ—à —Å–µ—Å—Å–∏–∏:** –ú–∏–Ω–∏–º—É–º (—Ä–∞—Å—Ç–µ—Ç —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö IP)

### **üéØ –≠—Ñ—Ñ–µ–∫—Ç –Ω–∞ preauth.php:**
- **–õ–µ–≥–∏—Ç–∏–º–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:** –ü—Ä–æ—Ö–æ–¥—è—Ç –±—ã—Å—Ç—Ä–æ
- **–ë–æ—Ç—ã —Å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º–∏—Å—è IP:** –ë–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (–∫–µ—à)
- **–ù–æ–≤—ã–µ –±–æ—Ç—ã:** –ë–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –±—ã—Å—Ç—Ä–æ (MEMORY_CACHE)
- **–õ–æ–≥–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã:** –ù–µ—Ç I/O –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ –¥–∏—Å–∫

**–ê–ª–≥–æ—Ä–∏—Ç–º —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ!** ‚ö°

–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –æ–¥–Ω–æ–≥–æ IP –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –∞ –Ω–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã - –ø–æ—á—Ç–∏ –≤ 3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º —Ä–∞–Ω—å—à–µ. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ! üöÄ
